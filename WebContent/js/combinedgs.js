function showinfo(id){$('#'+id).show();}
function showWine(id,elid){$('#recommendationtab').click();$.ajax({type:"POST",url:"/js/advicehtml.jsp?section=getwinejson&wineid="+id+"&currency="+$('input[name=currency]:checked').val()+"&shopid="+$('#shopid').val(),timeout:10000,success:function(data){handleCartResponse(data,elid);},error:function(XMLHttpRequest,textStatus,errorThrown){gotresponse=true;}});$.ajax({type:"POST",url:"/js/advicehtml.jsp?section=getadjson&wineid="+id+"&currency="+$('input[name=currency]:checked').val()+"&shopid="+$('#shopid').val(),timeout:10000,success:function(data){handleCartResponse(data,elid);},error:function(XMLHttpRequest,textStatus,errorThrown){gotresponse=true;}});return false;}
function showCharts(){if($(window).scrollTop()>$("#winedetails").offset().top)$.scrollTo('#winedetails',1000);$('#shopcharts').html('<div id="chart1"></div><div id="chart2"></div><div id="chart3"></div>');swfobject.embedSWF("/open-flash-chart.swf","chart1","468","250","9.0.0","expressInstall.swf",{"data-file":"/store/storechart.jsp%3Fchart%3D1"});swfobject.embedSWF("/open-flash-chart.swf","chart2","468","250","9.0.0","expressInstall.swf",{"data-file":"/store/storechart.jsp%3Fchart%3D2"});}
function addtocart(){$.ajax({type:"POST",url:"/js/cart.jsp?action=addtocart",data:$("#wineinfo").serialize(),timeout:10000,success:function(data){handleCartResponse(data,'');},error:function(XMLHttpRequest,textStatus,errorThrown){gotresponse=true;}});$("#shoppinglist").click();return false;}
function changeamount(wineid,amount){if($(window).scrollTop()>$("#cart").offset().top)$.scrollTo('#cart',1000);$.ajax({type:"POST",url:"/js/cart.jsp?action=addtocart&wineid="+wineid+"&amount="+amount,timeout:10000,success:function(data){handleCartResponse(data);},error:function(XMLHttpRequest,textStatus,errorThrown){gotresponse=true;}});return false;}
function handleCartResponse(response,id){gotresponse=true;var res=eval('('+response+')');if(res.winehtml){if(id){$.add2cart(id,'winedetails',function(){$('#_shadow').hide();$('#winedetails').html(res.winehtml);$('#winedetails').show();});}else{$('#winedetails').html(res.winehtml);$('#winedetails').show();}}
if(res.carthtml){$('#cart').html(res.carthtml);}
if(res.adrighthtml){$('#adright').html(res.adrighthtml);}}
function handleChartResponse(response){gotresponse=true;var res=eval('('+response+')');$('#shopcharts').html('');if(res.image1){$('#shopcharts').append('<img src="'+res.image1+'" alt=""/>');}
if(res.image2){$('#shopcharts').append('<img src="'+res.image2+'" alt=""/>');}}
function loadmap(){if($('#map').html()==''){var map=new GMap2(document.getElementById("map"));map.addControl(new GLargeMapControl());map.setCenter(center,8);var marker=new GMarker(center,{draggable:true,bouncy:true});map.addOverlay(marker);document.getElementById("map").style.visibility="visible";return false;}}
function getStoreContent(e,index){var tab=e.originalTarget||e.srcElement||(e.originalEvent&&(e.originalEvent.originalTarget||e.originalEvent.srcElement));if(tab&&tab.getAttribute('id')=='maptab')loadmap();if(tab&&tab.getAttribute('id')=='statstab'&&$("#shopstatstext").html()!='')showCharts();}
var scrollwindow;var resultpages;initPages();var lastpage=new Array(false,false,false,false);var offset=new Array(0,0,0,0,0);var lastpageindex=0;var updatedfirsthalf=new Array(false,false,false,false,false);var updatedsecondhalf=new Array(false,false,false,false,false);var request=new Array(0,0,0,0,0);var activepane=1;var newsearch=false;var priceslider;var doseek=true;function init(){$('#pricemin').hide();$('#pricemax').hide();makePriceSlider();if(true||$.browser.msie){$("#gstabs").tabs("#gspanes  > div.pan");sttabs=$("#storetabs").tabs("#storepanes > div.storepane",{onClick:function(event,tabIndex){getStoreContent(event,tabIndex);}});}else{$("#gstabs").tabs("#gspanes  > div.pan",{effect:'fade'});$("#storetabs").tabs("#storepanes > div.storepane",{effect:'slide',onClick:function(event,tabIndex){getStoreContent(tabIndex);}});}
updateSlider();makeScrollable();if(getScrollwindow(1)){resultpages[1][0]=getScrollwindow(1).getItems().eq(0).html();getPage(2);getPage(3);if($("#pane4").html())getPage(4);getPage(1);$("#gstabs").tabs().onClick(function(event,tabIndex){setActivePane(tabIndex+1);});}}
function initAjax(){makePriceSlider();makeScrollable();if(true||$.browser.msie){$("#gstabs").tabs("#gspanes  > div.pan");}else{$("#gstabs").tabs("#gspanes  > div.pan",{effect:'fade'});}
$("#gstabs").tabs().onClick(function(event,tabIndex){setActivePane(tabIndex+1);});newSearch();}
function makePriceSlider(){priceslider=$('select#pricemin, select#pricemax').selectToUISlider({sliderOptions:{change:function(e,ui){setBudget();}},labels:0,animate:true,range:true,min:$("#slider-min").html(),max:$("#slider-max").html(),values:[$("#slider-min").html(),$("#slider-max").html()]});}
function makeVintageSlider(){$('select#vintageminsl, select#vintagemaxsl').selectToUISlider({sliderOptions:{change:function(e,ui){$("#vintageclose").hide();$("#vintagespinner").show();newSearch();}},labels:0,animate:true,range:true,min:$("#vintageminscale").val(),max:$("#vintagemaxscale").val(),values:[$("#vintageminsl").val(),$("#vintagemaxsl").val()]});$("#vintageslider .ui-widget-header").removeClass("ui-widget-header").addClass("ui-widget-header");if(document.getElementById("vintageclose")){}else{$("#vintageslider .ui-widget-header").addClass("ui-widget-greyheader").removeClass("ui-widget-header");}}
function clearVintage(){$("#vintageclose").hide();$("#vintagespinner").show();$("#vintageminsl").val($("#vintageminscale").val());$("#vintagemaxsl").val($("#vintagemaxscale").val());newSearch();}
function correctVintageSlider(){$("#vintagemin").val($("#vintageminsl").val());$("#vintagemax").val($("#vintagemaxsl").val());if($("#vintageminscale").val()==$("#vintagemin").val())$("#vintagemin").val(0);if($("#vintagemaxscale").val()==$("#vintagemax").val())$("#vintagemax").val(0);}
function setActivePane(pane){activepane=pane;}
function getActiveScrollwindow(){return $("#pane"+activepane).scrollable();}
function getScrollwindow(pane){return $("#pane"+pane).scrollable();}
function makeScrollable(){$("#pane1").scrollable({nextPage:'#next1',prevPage:'#prev1',size:1,speed:600,clickable:false,onSeek:function(){getPage(1);}});$("#pane2").scrollable({nextPage:'#next2',prevPage:'#prev2',size:1,speed:600,clickable:false,onSeek:function(){getPage(2);}});$("#pane3").scrollable({nextPage:'#next3',prevPage:'#prev3',size:1,speed:600,clickable:false,onSeek:function(){getPage(3);}});if($("#pane4").html())$("#pane4").scrollable({nextPage:'#next4',prevPage:'#prev4',size:1,speed:600,clickable:false,onSeek:function(){getPage(4);}});}
function setBudget(){spin('price');$("#handle_pricemin").removeClass("ui-slider-handle ui-state-default ui-corner-all ui-state-focus").addClass("ui-slider-handle ui-state-default ui-corner-all");$("#handle_pricemax").removeClass("ui-slider-handle ui-state-default ui-corner-all ui-state-focus").addClass("ui-slider-handle ui-state-default ui-corner-all");newSearch();}
function newSearch(){newsearch=true;correctVintageSlider();$(".ac_results").hide();lastpage=new Array(false,false,false,false);initPages();document.getElementById("page").value="0";getResults(activepane);getResults(1);getResults(2);getResults(3);}
function clearRegion(){document.getElementById('region').value='All';newSearch();}
function oldclearVintage(){document.getElementById('vintage').value='';newSearch();}
function clearGrape(){document.getElementById('grape').value='';newSearch();}
function setGrape(g){document.getElementById('grape').value=g;newSearch();}
function clearBudget(){document.getElementById("pricemin").value=0;document.getElementById("pricemax").value=200;$('#pricemin').trigger('change');$('#pricemax').trigger('change');spin('price');}
function spin(id){$('#'+id+'close').hide();$('#'+id+'spinner').show();}
function updateSlider(){if(document.getElementById("vintageminsl")!=null)makeVintageSlider();if(document.getElementById("pricemin").value==0&&document.getElementById("pricemax").value==200){$("#priceslider .ui-widget-header").removeClass("ui-widget-header").addClass("ui-widget-greyheader");document.getElementById('priceclose').style.display='none';}else{$("#priceslider .ui-widget-greyheader").removeClass("ui-widget-greyheader").addClass("ui-widget-header");document.getElementById('priceclose').style.display='block';}
$("#handle_pricemin").find(".ttContent").html(document.getElementById('symbol').value+' '+document.getElementById("pricemin").value);$("#handle_pricemax").find(".ttContent").html(document.getElementById('symbol').value+' '+document.getElementById("pricemax").value);if(document.getElementById("ratingminscale"))makeSlider('rating');$("#pricespinner").hide();}
function makeSlider(id){if($("#"+id+"minscale")){var min=Math.max(parseInt($("#ratingmin").val()),parseInt($("#ratingminscale").val()));var max=Math.min(parseInt($("#ratingmax").val()),parseInt($("#ratingmaxscale").val()));$("#"+id).slider({slide:function(e,ui){var thisHandle=jQuery(ui.handle);var textval=(ui.value);thisHandle.attr('aria-valuetext',textval).attr('aria-valuenow',ui.value).find('.ui-slider-tooltip .ttContent').text(textval);},range:true,min:parseInt($("#ratingminscale").val()),max:parseInt($("#ratingmaxscale").val()),values:[min,max],change:function(event,ui){setRating();}});if(parseInt($("#ratingmin").val())>parseInt($("#ratingminscale").val())||parseInt($("#ratingmax").val())<parseInt($("#ratingmaxscale").val())){$("#"+id+'close').show();$("#"+id+" .ui-widget-greyheader").removeClass("ui-widget-greyheader").addClass("ui-widget-header");}else{$("#"+id+" .ui-widget-header").removeClass("ui-widget-header").addClass("ui-widget-greyheader");}
$("#"+id+' a').append('<span class="screenReaderContext"></span><span class="ui-slider-tooltip ui-widget-content ui-corner-all"><span class="ttContent"></span><span class="ui-tooltip-pointer-down ui-widget-content"><span class="ui-tooltip-pointer-down-inner"></span></span></span></a>');$("#"+id+' a:first').find(".ttContent").html(min);$("#"+id+' a:last').find(".ttContent").html(max);}}
function clearRating(){$("#ratingmin").val(80);$("#ratingmax").val(100);newSearch();}
function setRating(){$('#ratingclose').hide();$('#ratingspinner').show();if($('#rating').slider('option','values')[0]==parseInt($("#ratingminscale").val())){$("#ratingmin").val(80);}else{$("#ratingmin").val($('#rating').slider('option','values')[0]);}
if($('#rating').slider('option','values')[1]==parseInt($("#ratingmaxscale").val())){$("#ratingmax").val(100);}else{$("#ratingmax").val($('#rating').slider('option','values')[1]);}
newSearch();}
function setRegionbyvalue(r){$('#regionspinner').show();document.getElementById("region").value=r.replace("&apos;","'");newSearch();}
function setRegion(r){$('#regionclose').hide();if(($("#recommendationtab").length==0)&&$("#winedetails").offset()!=null&&$(window).scrollTop()<$("#winedetails").offset().top)$.scrollTo('#winedetails',1000);$("#recommendationtab").click();if(r.selectValue){document.getElementById("region").value=r.selectValue;}else{document.getElementById("region").value=r;}
$('#regionspinner').show();newSearch();}
function initRegion(){if(document.getElementById("region").value=='All')document.getElementById("region").value='';}
function clearcountryofseller(){document.getElementById('countryofseller').value='All';newSearch();}
function setSubregion(t,el){$(el).children('.spinner').show();document.getElementById("region").value=t;newSearch();}
function setType(t,el){$(el).children('.spinner').show();document.getElementById("winetype").value=t;newSearch();}
function donothing(){}
function initPages(){resultpages=new Array(4);for(i=0;i<5;i++)resultpages[i]=[];}
function getPage(pane){handlePageLogic(pane);handleButtons(pane);handleCache(pane);}
function handleCache(pane){if((offset[pane]+getScrollwindow(pane).getPageIndex()+5)>resultpages[pane].length&&!lastpage[pane]){document.getElementById("page").value=resultpages[pane].length;getResults(pane);}}
function handleButtons(pane){var p=getScrollwindow(pane).getPageIndex();if(offset[pane]+p>=resultpages[pane].length-1){$("#next"+pane).hide();}else{$("#next"+pane).show();}
if(p==0){$("#prev"+pane).hide();}else{$("#prev"+pane).show();}}
function handlePageLogic(pane){if(updatedfirsthalf[pane]){updateSecondHalf(pane);}else if(updatedsecondhalf[pane]){reverseupdateFirstHalf(pane);}else{if((getScrollwindow(pane).getPageIndex()+3)>getScrollwindow(pane).getPageAmount()&&resultpages[pane].length>(getScrollwindow(pane).getPageAmount()+offset[pane])){if(getScrollwindow(pane).getPageAmount()>4){updateFirstHalf(pane);}else{addNext(pane);}}else{if((getScrollwindow(pane).getPageIndex()<2)&&offset[pane]>0){if(getScrollwindow(pane).getPageAmount()>4){reverseupdateSecondHalf(pane);}else{addPrevious(pane);}}}}}
function removeAllbutfirst(pane){if(getScrollwindow(pane).getItems().size()>1){getScrollwindow(pane).getItems().eq(1).remove();removeAllbutfirst(pane);}}
function updateFirstHalf(pane){updatedfirsthalf[pane]=true;getScrollwindow(pane).getItems().eq(0).html(getScrollwindow(pane).getItems().eq(1).html());getScrollwindow(pane).getItems().eq(1).html(getScrollwindow(pane).getItems().eq(2).html());getScrollwindow(pane).getItems().eq(2).html(getScrollwindow(pane).getItems().eq(3).html());getScrollwindow(pane).setPage(2,0);}
function updateSecondHalf(pane){updatedfirsthalf[pane]=false;getScrollwindow(pane).getItems().eq(3).html(getScrollwindow(pane).getItems().eq(4).html());getScrollwindow(pane).getItems().eq(4).html(resultpages[activepane][offset[pane]+getScrollwindow(pane).getPageAmount()]);offset[pane]++;}
function reverseupdateSecondHalf(pane){updatedsecondhalf[pane]=true;getScrollwindow(pane).getItems().eq(4).html(getScrollwindow(pane).getItems().eq(3).html());getScrollwindow(pane).getItems().eq(3).html(getScrollwindow(pane).getItems().eq(2).html());getScrollwindow(pane).getItems().eq(2).html(getScrollwindow(pane).getItems().eq(1).html());getScrollwindow(pane).setPage(2,0);}
function reverseupdateFirstHalf(pane){updatedsecondhalf[pane]=false;getScrollwindow(pane).getItems().eq(1).html(getScrollwindow(pane).getItems().eq(0).html());getScrollwindow(pane).getItems().eq(0).html(resultpages[pane][offset[pane]-1]);offset[pane]--;}
function removeLast(pane){getScrollwindow(pane).getItems().eq(getScrollwindow(pane).getItems().size()-1).remove();}
function addNext(pane){getScrollwindow(pane).getItemWrap().append(resultpages[pane][getScrollwindow(pane).getPageAmount()+offset[pane]]);getScrollwindow(pane).reload();}
function addPrevious(pane){getScrollwindow(pane).getItemWrap().prepend(resultpages[pane][offset[pane]]);getScrollwindow(pane).setPage(getScrollwindow(pane).getPageIndex()+1,1);}
function seekOff(pane){getScrollwindow(pane).unbind("onSeek");}
function seekOn(pane){doseek=false;getScrollwindow(pane).bind("onSeek",function(){seek(pane);});}
function seek(pane){getPage(activepane);doseek=true;}
function getResults(pane){if(!lastpage[pane]){var requestpane=pane;if(newsearch)requestpane=0;if(request[requestpane]){request[requestpane].abort();}
gotresponse=false;var param="";if(newsearch)param="&newsearch=true";newsearch=false;request[requestpane]=$.ajax({type:"POST",url:"/js/advicehtml.jsp?activepane="+pane+param,timeout:30000,data:$("#GuidedSearchform").serialize(),success:function(data){storedata(data);},error:function(XMLHttpRequest,textStatus,errorThrown){gotresponse=true;}});}}
var ac=false;var numpages=1;function storedata(response){gotresponse=true;var res=eval('('+response+')');var pane=parseInt(res.pane);if(res.page==0){lastpage[pane]=false;seekOff(pane);getScrollwindow(pane).setPage(1,0);getScrollwindow(pane).getItems().eq(0).html(res.result[0]);getScrollwindow(pane).setPage(0);removeAllbutfirst(pane);offset[pane]=0;}
lastpage[pane]=(res.lastpage==='true');if(res.result!=null){for(i=0;i<res.result.length;i=i+1){resultpages[pane][parseInt(i)+parseInt(res.page)]=res.result[i];}
if(res.page==0){seekOn(pane);}
$("#result h1").html(res.h1);handlePageLogic(pane);handleButtons(pane);if(document.getElementById("numpages")!=null){numpages=$("#numpages").val();}
$(".numpages").html(numpages);}
if(res.facets.length>10){ac=false;document.getElementById("criteria").innerHTML=res.facets;$(".numpages").html($("#numpages").val());updateSlider();}
if(!ac){ac=true;$("#region").autocomplete("/js/suggestregion.jsp",{onItemSelect:setRegion,minChars:2});}
return response;}
function spinner(){document.getElementById('result').style.removeAttribute('filter');$("#result").fadeOut(1500,function(){document.getElementById('result').style.removeAttribute('filter');$("#result").show();$("#result").animate({opacity:1.0});document.getElementById('result').style.removeAttribute('filter');if(!gotresponse){document.getElementById("result").innerHTML="<h1><img src='/images/spinner.gif'/>&nbsp;Getting results</h1>";}});}
jQuery.fn.selectToUISlider=function(settings){var selects=jQuery(this);var options=jQuery.extend({labels:3,tooltip:true,tooltipSrc:'text',labelSrc:'value',sliderOptions:null},settings);var handleIds=(function(){var tempArr=[];selects.each(function(){tempArr.push('handle_'+jQuery(this).attr('id'));});return tempArr;})();var selectOptions=(function(){var opts=[];selects.eq(0).find('option').each(function(){opts.push({value:jQuery(this).attr('value'),text:jQuery(this).text()});});return opts;})();var groups=(function(){if(selects.eq(0).find('optgroup').size()>0){var groupedData=[];selects.eq(0).find('optgroup').each(function(i){groupedData[i]={};groupedData[i].label=jQuery(this).attr('label');groupedData[i].options=[];jQuery(this).find('option').each(function(){groupedData[i].options.push({text:jQuery(this).text(),value:jQuery(this).attr('value')});});});return groupedData;}
else return null;})();function isArray(obj){return obj.constructor==Array;}
function ttText(optIndex){return(options.tooltipSrc=='text')?selectOptions[optIndex].text:selectOptions[optIndex].value;}
var sliderOptions={step:1,min:0,orientation:'horizontal',max:selectOptions.length-1,range:selects.length>1,slide:function(e,ui){var thisHandle=jQuery(ui.handle);var textval=ttText(ui.value);thisHandle.attr('aria-valuetext',textval).attr('aria-valuenow',ui.value).find('.ui-slider-tooltip .ttContent').text(textval);var currSelect=jQuery('#'+thisHandle.attr('id').split('handle_')[1]);currSelect.find('option').eq(ui.value).attr('selected','selected');},values:(function(){var values=[];selects.each(function(){values.push(jQuery(this).get(0).selectedIndex);});return values;})()};options.sliderOptions=(settings)?jQuery.extend(sliderOptions,settings.sliderOptions):sliderOptions;selects.bind('change keyup click',function(){var thisIndex=jQuery(this).get(0).selectedIndex;var thisHandle=jQuery('#handle_'+jQuery(this).attr('id'));var handleIndex=thisHandle.data('handleNum');thisHandle.parents('.ui-slider:eq(0)').slider("values",handleIndex,thisIndex);});var sliderComponent=jQuery('<div></div>');selects.each(function(i){var hidett='';var thisLabel=jQuery('label[for='+jQuery(this).attr('id')+']');var labelText=(thisLabel.size()>0)?'Slider control for '+thisLabel.text()+'':'';var thisLabelId=thisLabel.attr('id')||thisLabel.attr('id','label_'+handleIds[i]).attr('id');if(options.tooltip==false){hidett=' style="display: none;"';}
jQuery('<a '+'href="#" tabindex="0" '+'id="'+handleIds[i]+'" '+'class="ui-slider-handle" '+'role="slider" '+'aria-labelledby="'+thisLabelId+'" '+'aria-valuemin="'+options.sliderOptions.min+'" '+'aria-valuemax="'+options.sliderOptions.max+'" '+'aria-valuenow="'+options.sliderOptions.values[i]+'" '+'aria-valuetext="'+ttText(options.sliderOptions.values[i])+'" '+'><span class="screenReaderContext">'+labelText+'</span>'+'<span class="ui-slider-tooltip ui-widget-content ui-corner-all"'+hidett+'><span class="ttContent"></span>'+'<span class="ui-tooltip-pointer-down ui-widget-content"><span class="ui-tooltip-pointer-down-inner"></span></span>'+'</span></a>').data('handleNum',i).appendTo(sliderComponent);});if(groups){var inc=0;var scale=sliderComponent.append('<dl class="ui-slider-scale ui-helper-reset" role="presentation"></dl>').find('.ui-slider-scale:eq(0)');jQuery(groups).each(function(h){scale.append('<dt style="width: '+(100/groups.length).toFixed(2)+'%'+'; left:'+(h/(groups.length-1)*100).toFixed(2)+'%'+'"><span>'+this.label+'</span></dt>');var groupOpts=this.options;jQuery(this.options).each(function(i){var style=(inc==selectOptions.length-1||inc==0)?'style="display: none;"':'';var labelText=(options.labelSrc=='text')?groupOpts[i].text:groupOpts[i].value;scale.append('<dd style="left:'+leftVal(inc)+'"><span class="ui-slider-label">'+labelText+'</span><span class="ui-slider-tic ui-widget-content"'+style+'></span></dd>');inc++;});});}
else{var scale=sliderComponent.append('<ol class="ui-slider-scale ui-helper-reset" role="presentation"></ol>').find('.ui-slider-scale:eq(0)');jQuery(selectOptions).each(function(i){var style=(i==selectOptions.length-1||i==0)?'style="display: none;"':'';var labelText=(options.labelSrc=='text')?this.text:this.value;scale.append('<li style="left:'+leftVal(i)+'"><span class="ui-slider-label">'+labelText+'</span><span class="ui-slider-tic ui-widget-content"'+style+'></span></li>');});}
function leftVal(i){return(i/(selectOptions.length-1)*100).toFixed(2)+'%';}
if(options.labels>1)sliderComponent.find('.ui-slider-scale li:last span.ui-slider-label, .ui-slider-scale dd:last span.ui-slider-label').addClass('ui-slider-label-show');var increm=Math.max(1,Math.round(selectOptions.length/options.labels));for(var j=0;j<selectOptions.length;j+=increm){if((selectOptions.length-j)>increm){sliderComponent.find('.ui-slider-scale li:eq('+j+') span.ui-slider-label, .ui-slider-scale dd:eq('+j+') span.ui-slider-label').addClass('ui-slider-label-show');}}
sliderComponent.find('.ui-slider-scale dt').each(function(i){jQuery(this).css({'left':((100/(groups.length))*i).toFixed(2)+'%'});});sliderComponent.insertAfter(jQuery(this).eq(this.length-1)).slider(options.sliderOptions).attr('role','application').find('.ui-slider-label').each(function(){jQuery(this).css('marginLeft',-jQuery(this).width()/2);});sliderComponent.find('.ui-tooltip-pointer-down-inner').each(function(){var bWidth=jQuery('.ui-tooltip-pointer-down-inner').css('borderTopWidth');var bColor=jQuery(this).parents('.ui-slider-tooltip').css('backgroundColor')
jQuery(this).css('border-top',bWidth+' solid '+bColor);});var values=sliderComponent.slider('values');if(isArray(values)){jQuery(values).each(function(i){sliderComponent.find('.ui-slider-tooltip .ttContent').eq(i).text(ttText(this));});}
else{sliderComponent.find('.ui-slider-tooltip .ttContent').eq(0).text(ttText(values));}
return this;}
var swfobject=function(){var D="undefined",r="object",S="Shockwave Flash",W="ShockwaveFlash.ShockwaveFlash",q="application/x-shockwave-flash",R="SWFObjectExprInst",x="onreadystatechange",O=window,j=document,t=navigator,T=false,U=[h],o=[],N=[],I=[],l,Q,E,B,J=false,a=false,n,G,m=true,M=function(){var aa=typeof j.getElementById!=D&&typeof j.getElementsByTagName!=D&&typeof j.createElement!=D,ah=t.userAgent.toLowerCase(),Y=t.platform.toLowerCase(),ae=Y?/win/.test(Y):/win/.test(ah),ac=Y?/mac/.test(Y):/mac/.test(ah),af=/webkit/.test(ah)?parseFloat(ah.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,X=!+"\v1",ag=[0,0,0],ab=null;if(typeof t.plugins!=D&&typeof t.plugins[S]==r){ab=t.plugins[S].description;if(ab&&!(typeof t.mimeTypes!=D&&t.mimeTypes[q]&&!t.mimeTypes[q].enabledPlugin)){T=true;X=false;ab=ab.replace(/^.*\s+(\S+\s+\S+$)/,"$1");ag[0]=parseInt(ab.replace(/^(.*)\..*$/,"$1"),10);ag[1]=parseInt(ab.replace(/^.*\.(.*)\s.*$/,"$1"),10);ag[2]=/[a-zA-Z]/.test(ab)?parseInt(ab.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof O.ActiveXObject!=D){try{var ad=new ActiveXObject(W);if(ad){ab=ad.GetVariable("$version");if(ab){X=true;ab=ab.split(" ")[1].split(",");ag=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}}catch(Z){}}}return{w3:aa,pv:ag,wk:af,ie:X,win:ae,mac:ac}}(),k=function(){if(!M.w3){return}if((typeof j.readyState!=D&&j.readyState=="complete")||(typeof j.readyState==D&&(j.getElementsByTagName("body")[0]||j.body))){f()}if(!J){if(typeof j.addEventListener!=D){j.addEventListener("DOMContentLoaded",f,false)}if(M.ie&&M.win){j.attachEvent(x,function(){if(j.readyState=="complete"){j.detachEvent(x,arguments.callee);f()}});if(O==top){(function(){if(J){return}try{j.documentElement.doScroll("left")}catch(X){setTimeout(arguments.callee,0);return}f()})()}}if(M.wk){(function(){if(J){return}if(!/loaded|complete/.test(j.readyState)){setTimeout(arguments.callee,0);return}f()})()}s(f)}}();function f(){if(J){return}try{var Z=j.getElementsByTagName("body")[0].appendChild(C("span"));Z.parentNode.removeChild(Z)}catch(aa){return}J=true;var X=U.length;for(var Y=0;Y<X;Y++){U[Y]()}}function K(X){if(J){X()}else{U[U.length]=X}}function s(Y){if(typeof O.addEventListener!=D){O.addEventListener("load",Y,false)}else{if(typeof j.addEventListener!=D){j.addEventListener("load",Y,false)}else{if(typeof O.attachEvent!=D){i(O,"onload",Y)}else{if(typeof O.onload=="function"){var X=O.onload;O.onload=function(){X();Y()}}else{O.onload=Y}}}}}function h(){if(T){V()}else{H()}}function V(){var X=j.getElementsByTagName("body")[0];var aa=C(r);aa.setAttribute("type",q);var Z=X.appendChild(aa);if(Z){var Y=0;(function(){if(typeof Z.GetVariable!=D){var ab=Z.GetVariable("$version");if(ab){ab=ab.split(" ")[1].split(",");M.pv=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}else{if(Y<10){Y++;setTimeout(arguments.callee,10);return}}X.removeChild(aa);Z=null;H()})()}else{H()}}function H(){var ag=o.length;if(ag>0){for(var af=0;af<ag;af++){var Y=o[af].id;var ab=o[af].callbackFn;var aa={success:false,id:Y};if(M.pv[0]>0){var ae=c(Y);if(ae){if(F(o[af].swfVersion)&&!(M.wk&&M.wk<312)){w(Y,true);if(ab){aa.success=true;aa.ref=z(Y);ab(aa)}}else{if(o[af].expressInstall&&A()){var ai={};ai.data=o[af].expressInstall;ai.width=ae.getAttribute("width")||"0";ai.height=ae.getAttribute("height")||"0";if(ae.getAttribute("class")){ai.styleclass=ae.getAttribute("class")}if(ae.getAttribute("align")){ai.align=ae.getAttribute("align")}var ah={};var X=ae.getElementsByTagName("param");var ac=X.length;for(var ad=0;ad<ac;ad++){if(X[ad].getAttribute("name").toLowerCase()!="movie"){ah[X[ad].getAttribute("name")]=X[ad].getAttribute("value")}}P(ai,ah,Y,ab)}else{p(ae);if(ab){ab(aa)}}}}}else{w(Y,true);if(ab){var Z=z(Y);if(Z&&typeof Z.SetVariable!=D){aa.success=true;aa.ref=Z}ab(aa)}}}}}function z(aa){var X=null;var Y=c(aa);if(Y&&Y.nodeName=="OBJECT"){if(typeof Y.SetVariable!=D){X=Y}else{var Z=Y.getElementsByTagName(r)[0];if(Z){X=Z}}}return X}function A(){return!a&&F("6.0.65")&&(M.win||M.mac)&&!(M.wk&&M.wk<312)}function P(aa,ab,X,Z){a=true;E=Z||null;B={success:false,id:X};var ae=c(X);if(ae){if(ae.nodeName=="OBJECT"){l=g(ae);Q=null}else{l=ae;Q=X}aa.id=R;if(typeof aa.width==D||(!/%$/.test(aa.width)&&parseInt(aa.width,10)<310)){aa.width="310"}if(typeof aa.height==D||(!/%$/.test(aa.height)&&parseInt(aa.height,10)<137)){aa.height="137"}j.title=j.title.slice(0,47)+" - Flash Player Installation";var ad=M.ie&&M.win?"ActiveX":"PlugIn",ac="MMredirectURL="+O.location.toString().replace(/&/g,"%26")+"&MMplayerType="+ad+"&MMdoctitle="+j.title;if(typeof ab.flashvars!=D){ab.flashvars+="&"+ac}else{ab.flashvars=ac}if(M.ie&&M.win&&ae.readyState!=4){var Y=C("div");X+="SWFObjectNew";Y.setAttribute("id",X);ae.parentNode.insertBefore(Y,ae);ae.style.display="none";(function(){if(ae.readyState==4){ae.parentNode.removeChild(ae)}else{setTimeout(arguments.callee,10)}})()}u(aa,ab,X)}}function p(Y){if(M.ie&&M.win&&Y.readyState!=4){var X=C("div");Y.parentNode.insertBefore(X,Y);X.parentNode.replaceChild(g(Y),X);Y.style.display="none";(function(){if(Y.readyState==4){Y.parentNode.removeChild(Y)}else{setTimeout(arguments.callee,10)}})()}else{Y.parentNode.replaceChild(g(Y),Y)}}function g(ab){var aa=C("div");if(M.win&&M.ie){aa.innerHTML=ab.innerHTML}else{var Y=ab.getElementsByTagName(r)[0];if(Y){var ad=Y.childNodes;if(ad){var X=ad.length;for(var Z=0;Z<X;Z++){if(!(ad[Z].nodeType==1&&ad[Z].nodeName=="PARAM")&&!(ad[Z].nodeType==8)){aa.appendChild(ad[Z].cloneNode(true))}}}}}return aa}function u(ai,ag,Y){var X,aa=c(Y);if(M.wk&&M.wk<312){return X}if(aa){if(typeof ai.id==D){ai.id=Y}if(M.ie&&M.win){var ah="";for(var ae in ai){if(ai[ae]!=Object.prototype[ae]){if(ae.toLowerCase()=="data"){ag.movie=ai[ae]}else{if(ae.toLowerCase()=="styleclass"){ah+=' class="'+ai[ae]+'"'}else{if(ae.toLowerCase()!="classid"){ah+=" "+ae+'="'+ai[ae]+'"'}}}}}var af="";for(var ad in ag){if(ag[ad]!=Object.prototype[ad]){af+='<param name="'+ad+'" value="'+ag[ad]+'" />'}}aa.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+ah+">"+af+"</object>";N[N.length]=ai.id;X=c(ai.id)}else{var Z=C(r);Z.setAttribute("type",q);for(var ac in ai){if(ai[ac]!=Object.prototype[ac]){if(ac.toLowerCase()=="styleclass"){Z.setAttribute("class",ai[ac])}else{if(ac.toLowerCase()!="classid"){Z.setAttribute(ac,ai[ac])}}}}for(var ab in ag){if(ag[ab]!=Object.prototype[ab]&&ab.toLowerCase()!="movie"){e(Z,ab,ag[ab])}}aa.parentNode.replaceChild(Z,aa);X=Z}}return X}function e(Z,X,Y){var aa=C("param");aa.setAttribute("name",X);aa.setAttribute("value",Y);Z.appendChild(aa)}function y(Y){var X=c(Y);if(X&&X.nodeName=="OBJECT"){if(M.ie&&M.win){X.style.display="none";(function(){if(X.readyState==4){b(Y)}else{setTimeout(arguments.callee,10)}})()}else{X.parentNode.removeChild(X)}}}function b(Z){var Y=c(Z);if(Y){for(var X in Y){if(typeof Y[X]=="function"){Y[X]=null}}Y.parentNode.removeChild(Y)}}function c(Z){var X=null;try{X=j.getElementById(Z)}catch(Y){}return X}function C(X){return j.createElement(X)}function i(Z,X,Y){Z.attachEvent(X,Y);I[I.length]=[Z,X,Y]}function F(Z){var Y=M.pv,X=Z.split(".");X[0]=parseInt(X[0],10);X[1]=parseInt(X[1],10)||0;X[2]=parseInt(X[2],10)||0;return(Y[0]>X[0]||(Y[0]==X[0]&&Y[1]>X[1])||(Y[0]==X[0]&&Y[1]==X[1]&&Y[2]>=X[2]))?true:false}function v(ac,Y,ad,ab){if(M.ie&&M.mac){return}var aa=j.getElementsByTagName("head")[0];if(!aa){return}var X=(ad&&typeof ad=="string")?ad:"screen";if(ab){n=null;G=null}if(!n||G!=X){var Z=C("style");Z.setAttribute("type","text/css");Z.setAttribute("media",X);n=aa.appendChild(Z);if(M.ie&&M.win&&typeof j.styleSheets!=D&&j.styleSheets.length>0){n=j.styleSheets[j.styleSheets.length-1]}G=X}if(M.ie&&M.win){if(n&&typeof n.addRule==r){n.addRule(ac,Y)}}else{if(n&&typeof j.createTextNode!=D){n.appendChild(j.createTextNode(ac+" {"+Y+"}"))}}}function w(Z,X){if(!m){return}var Y=X?"visible":"hidden";if(J&&c(Z)){c(Z).style.visibility=Y}else{v("#"+Z,"visibility:"+Y)}}function L(Y){var Z=/[\\\"<>\.;]/;var X=Z.exec(Y)!=null;return X&&typeof encodeURIComponent!=D?encodeURIComponent(Y):Y}var d=function(){if(M.ie&&M.win){window.attachEvent("onunload",function(){var ac=I.length;for(var ab=0;ab<ac;ab++){I[ab][0].detachEvent(I[ab][1],I[ab][2])}var Z=N.length;for(var aa=0;aa<Z;aa++){y(N[aa])}for(var Y in M){M[Y]=null}M=null;for(var X in swfobject){swfobject[X]=null}swfobject=null})}}();return{registerObject:function(ab,X,aa,Z){if(M.w3&&ab&&X){var Y={};Y.id=ab;Y.swfVersion=X;Y.expressInstall=aa;Y.callbackFn=Z;o[o.length]=Y;w(ab,false)}else{if(Z){Z({success:false,id:ab})}}},getObjectById:function(X){if(M.w3){return z(X)}},embedSWF:function(ab,ah,ae,ag,Y,aa,Z,ad,af,ac){var X={success:false,id:ah};if(M.w3&&!(M.wk&&M.wk<312)&&ab&&ah&&ae&&ag&&Y){w(ah,false);K(function(){ae+="";ag+="";var aj={};if(af&&typeof af===r){for(var al in af){aj[al]=af[al]}}aj.data=ab;aj.width=ae;aj.height=ag;var am={};if(ad&&typeof ad===r){for(var ak in ad){am[ak]=ad[ak]}}if(Z&&typeof Z===r){for(var ai in Z){if(typeof am.flashvars!=D){am.flashvars+="&"+ai+"="+Z[ai]}else{am.flashvars=ai+"="+Z[ai]}}}if(F(Y)){var an=u(aj,am,ah);if(aj.id==ah){w(ah,true)}X.success=true;X.ref=an}else{if(aa&&A()){aj.data=aa;P(aj,am,ah,ac);return}else{w(ah,true)}}if(ac){ac(X)}})}else{if(ac){ac(X)}}},switchOffAutoHideShow:function(){m=false},ua:M,getFlashPlayerVersion:function(){return{major:M.pv[0],minor:M.pv[1],release:M.pv[2]}},hasFlashPlayerVersion:F,createSWF:function(Z,Y,X){if(M.w3){return u(Z,Y,X)}else{return undefined}},showExpressInstall:function(Z,aa,X,Y){if(M.w3&&A()){P(Z,aa,X,Y)}},removeSWF:function(X){if(M.w3){y(X)}},createCSS:function(aa,Z,Y,X){if(M.w3){v(aa,Z,Y,X)}},addDomLoadEvent:K,addLoadEvent:s,getQueryParamValue:function(aa){var Z=j.location.search||j.location.hash;if(Z){if(/\?/.test(Z)){Z=Z.split("?")[1]}if(aa==null){return L(Z)}var Y=Z.split("&");for(var X=0;X<Y.length;X++){if(Y[X].substring(0,Y[X].indexOf("="))==aa){return L(Y[X].substring((Y[X].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(a){var X=c(R);if(X&&l){X.parentNode.replaceChild(l,X);if(Q){w(Q,true);if(M.ie&&M.win){l.style.display="block"}}if(E){E(B)}}a=false}}}}();